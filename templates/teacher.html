<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Page</title>
    <script>
        function updateHelpLevel() {
            const helpLevel = document.getElementById('aiHelpLevel').value;
            document.getElementById('helpLevelDisplay').innerText = helpLevel;
        }
    </script>
</head>
<body>
    <h1>Welcome, Teacher!</h1>
    <p>This is the teacher page where you can create and manage assignments.</p>

    <h2>Create a New Assignment</h2>
    <form action="{{ url_for('uploadAssignment') }}" method="POST" enctype="multipart/form-data">
        <label for="assignmentName">Assignment Name:</label><br>
        <input type="text" id="assignmentName" name="assignmentName" required><br><br>

        <label for="taskDescription">Task Description:</label><br>
        <textarea id="taskDescription" name="taskDescription" rows="4" cols="50"></textarea><br><br>

        <label for="questionFile">Question File:</label><br>
        <input type="file" id="questionFile" name="questionFile" required><br><br>

        <label for="markschemeFile">Markscheme File:</label><br>
        <input type="file" id="markschemeFile" name="markschemeFile" required><br><br>

        <label for="resourceFiles">Resource Files (optional):</label><br>
        <input type="file" id="resourceFiles" name="resourceFiles" multiple><br><br>

        <label for="aiHelpLevel">AI Help Level (0 = No help, 10 = Maximum help):</label><br>
        <input type="range" id="aiHelpLevel" name="aiHelpLevel" min="0" max="10" step="1" value="5" oninput="updateHelpLevel()">
        <span id="helpLevelDisplay">5</span><br><br>

        <button type="submit">Create Assignment</button>
    </form>

    <h2>Created Assignments</h2>
    <div id="assignmentsList">
        {% for assignment in assignments %}
            <div class="assignment">
                <h3>Assignment {{ loop.index }}: {{ assignment.name }}</h3>
                <p>Task Description: {{ assignment.taskDescription }}</p>
                <p>Question File: <a href="#">{{ assignment.questionFile }}</a></p>
                <p>Markscheme File: <a href="#">{{ assignment.markschemeFile }}</a></p>
                <p>Resource Files: {% for file in assignment.resourceFiles %}
                    <a href="#">{{ file }}</a>{% if not loop.last %}, {% endif %}
                {% endfor %}</p>
                <p>AI Help Level: {{ assignment.aiHelpLevel }}</p>
            </div>
        {% endfor %}
    </div>

    <h2>API Endpoint</h2>
    <p>You can view the list of assignments via the API endpoint:</p>
    <a href="{{ url_for('viewAssignments') }}" target="_blank">View Assignments API</a>
</body>
</html>
